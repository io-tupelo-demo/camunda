
## How to run unit tests

1. Download and install Minio
  - use `minio-start.zsh` to start for clojure testing
  - use `minio-env.zsh` if just need env vars for command line usage
  - Use broser to view Minio S3 environment:  localhost:19000          Login: minioadmin/minioadmin

2. Download & install Camunda 7 (not tested with Camunda 8)
  - MacOS Camunda Modeler:      https://developers.camunda.com/install-camunda-8/
  - Camunda 7 Docker image:     https://hub.docker.com/r/camunda/camunda-bpm-platform/ 
        works with Podman on macos
        (or use on heron-qa server)

3. Run tests via `clojure -X:test` (alternate: "clojure -M:test-refresh")
  - Runs normal S3 unit tests

4. Test Camunda
  - use `camunda-start.bash` to start camunda podman engine (or `camunda-start-docker.bash`)
  - open on Camunda Modeler from Mac Launcher
  - load `demo.bpmn` file, then "launch" (rocketship - lower left corner) into camunda engine
  - use `camunda-send.bash` to initiate process state into first state
  - refresh camunda in browser to see marker of first state box
  - Run 2 Camunda tasks via `camunda-exec.bash` (& verify correct results)
  - Must use Ctrl-C to terminate since Camunda has non-daemon thread in JVM

5. Testing on Linux in QA environment
  - login to "heron-qa"
  - create a file `set-env.bash` like

      export ACCESS_KEY="AKIAZSDFLKF87098DFFY"
      export SECRET_KEY="sdlfkjoiwueerlkjsdfljsfdlsdfkljdslX4ziXT"
      export IP_ADDR_CAMUNDA="10.128.4.224"

  - at command line, do `source set-env.bash` to set env vars
  - use a spare terminal to log into camunda-qa. This will also set up ssh tunneling so that
        your laptop can connect to the camunda-qa server
  - use Camunda Modeler to load demo.bpmn script into Camunda on the camunda-qa server like step 4.
  - use `camunda-send.bash` to initiate process state into first state
  - refresh camunda in browser to see marker of first state box
  - Run 2 Camunda tasks via `camunda-exec.bash` (& verify correct results)
  - Must use Ctrl-C to terminate since Camunda has non-daemon thread in JVM

